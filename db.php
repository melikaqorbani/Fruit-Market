<?php
// تنظیمات اتصال به پایگاه داده
$host = 'localhost'; // نام میزبان (معمولاً 'localhost' برای سرور محلی)
$db = 'fruit_market'; // نام پایگاه داده‌ای که می‌خواهیم به آن وصل شویم
$user = 'root'; // نام کاربری برای اتصال به پایگاه داده
$pass = ''; // گذرواژه برای نام کاربری

// ساختن DSN (Data Source Name) برای اتصال PDO
$dsn = "mysql:host=$host;dbname=$db;charset=utf8mb4"; 
// 'mysql:host' مشخص می‌کند که از چه نوع پایگاه داده‌ای استفاده می‌شود و 'host' نیز میزبان را مشخص می‌کند.
// 'dbname' نام پایگاه داده را مشخص می‌کند.
// 'charset=utf8mb4' تعیین می‌کند که از مجموعه کاراکتر UTF-8 با پشتیبانی کامل استفاده شود.

try {
    // ایجاد یک نمونه از PDO برای اتصال به پایگاه داده
    $pdo = new PDO($dsn, $user, $pass);
    // تنظیم حالت خطا برای PDO
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    // 'ERRMODE_EXCEPTION' باعث می‌شود که در صورت بروز خطاها، استثناها پرتاب شوند که برای اشکال‌زدایی مفید است.
} catch (PDOException $e) {
    // در صورت بروز خطا در اتصال، پیام خطا را نمایش داده و اسکریپت را متوقف می‌کند
    die("Connection failed: " . $e->getMessage());
    // 'die()' تابعی است که یک پیام را نمایش داده و اجرای اسکریپت را متوقف می‌کند.
}
?>
